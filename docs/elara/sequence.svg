<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="897px" preserveAspectRatio="none" style="width:1240px;height:897px;background:#1E2230;" version="1.1" viewBox="0 0 1240 897" width="1240px" zoomAndPan="magnify"><defs><filter height="300%" id="f9txxq3d7bl6l" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#CFECE7" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="510" x="360.75" y="26.708">Parallel Pointing + Streaming to Sounding Rocket (Relay)</text><rect fill="#1E2230" filter="url(#f9txxq3d7bl6l)" height="402.3359" style="stroke: #5D6A87; stroke-width: 2.0;" width="1205.5" x="13" y="266.2109"/><rect fill="#1E2230" filter="url(#f9txxq3d7bl6l)" height="75.3984" style="stroke: #5D6A87; stroke-width: 2.0;" width="313" x="187" y="290.3438"/><rect fill="#1E2230" height="295.8047" style="stroke: none; stroke-width: 1.0;" width="1205.5" x="13" y="372.7422"/><rect fill="#1E2230" filter="url(#f9txxq3d7bl6l)" height="267" style="stroke: #5D6A87; stroke-width: 2.0;" width="1185.5" x="23" y="394.5469"/><rect fill="#1E2230" filter="url(#f9txxq3d7bl6l)" height="177.6016" style="stroke: #5D6A87; stroke-width: 2.0;" width="1165.5" x="33" y="476.9453"/><rect fill="#1E2230" height="43.9375" style="stroke: none; stroke-width: 1.0;" width="1165.5" x="33" y="610.6094"/><line style="stroke: #CFECE7; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="67" x2="67" y1="89.5469" y2="841.2109"/><line style="stroke: #CFECE7; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="225" x2="225" y1="89.5469" y2="841.2109"/><line style="stroke: #CFECE7; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="358" x2="358" y1="89.5469" y2="841.2109"/><line style="stroke: #CFECE7; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="448" x2="448" y1="89.5469" y2="841.2109"/><line style="stroke: #CFECE7; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="557" x2="557" y1="89.5469" y2="841.2109"/><line style="stroke: #CFECE7; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="683" x2="683" y1="89.5469" y2="841.2109"/><line style="stroke: #CFECE7; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="949" x2="949" y1="89.5469" y2="841.2109"/><line style="stroke: #CFECE7; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1119.5" x2="1119.5" y1="89.5469" y2="841.2109"/><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="30.2969" style="stroke: #CFECE7; stroke-width: 1.5;" width="45" x="43" y="54.25"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="50" y="74.2451">OBC</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="30.2969" style="stroke: #CFECE7; stroke-width: 1.5;" width="45" x="43" y="840.2109"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="50" y="860.2061">OBC</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="30.2969" style="stroke: #CFECE7; stroke-width: 1.5;" width="53" x="197" y="54.25"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="204" y="74.2451">ADCS</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="30.2969" style="stroke: #CFECE7; stroke-width: 1.5;" width="53" x="197" y="840.2109"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="204" y="860.2061">ADCS</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="30.2969" style="stroke: #CFECE7; stroke-width: 1.5;" width="71" x="321" y="54.25"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="328" y="74.2451">Sensors</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="30.2969" style="stroke: #CFECE7; stroke-width: 1.5;" width="71" x="321" y="840.2109"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="328" y="860.2061">Sensors</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="30.2969" style="stroke: #CFECE7; stroke-width: 1.5;" width="80" x="406" y="54.25"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="413" y="74.2451">Actuators</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="30.2969" style="stroke: #CFECE7; stroke-width: 1.5;" width="80" x="406" y="840.2109"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="413" y="860.2061">Actuators</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="30.2969" style="stroke: #CFECE7; stroke-width: 1.5;" width="110" x="500" y="54.25"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="507" y="74.2451">Radio Payload</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="30.2969" style="stroke: #CFECE7; stroke-width: 1.5;" width="110" x="500" y="840.2109"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="507" y="860.2061">Radio Payload</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="30.2969" style="stroke: #CFECE7; stroke-width: 1.5;" width="114" x="624" y="54.25"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="631" y="74.2451">Storage/Buffer</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="30.2969" style="stroke: #CFECE7; stroke-width: 1.5;" width="114" x="624" y="840.2109"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="631" y="860.2061">Storage/Buffer</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="46.5938" style="stroke: #CFECE7; stroke-width: 1.5;" width="106" x="894" y="37.9531"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="922.5" y="57.9482">RF Link</text><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="901" y="74.2451">(UHF/S-band)</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="46.5938" style="stroke: #CFECE7; stroke-width: 1.5;" width="106" x="894" y="840.2109"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="922.5" y="860.2061">RF Link</text><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="901" y="876.5029">(UHF/S-band)</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="46.5938" style="stroke: #CFECE7; stroke-width: 1.5;" width="133" x="1051.5" y="37.9531"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="1058.5" y="57.9482">Sounding Rocket</text><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="1062" y="74.2451">(Relay/Receiver)</text><rect fill="#2B3045" filter="url(#f9txxq3d7bl6l)" height="46.5938" style="stroke: #CFECE7; stroke-width: 1.5;" width="133" x="1051.5" y="840.2109"/><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="1058.5" y="860.2061">Sounding Rocket</text><text fill="#EAEAEA" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="1062" y="876.5029">(Relay/Receiver)</text><rect fill="#EEEEEE" filter="url(#f9txxq3d7bl6l)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1225.5" x="3" y="120.1133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1228.5" y1="120.1133" y2="120.1133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1228.5" y1="123.1133" y2="123.1133"/><rect fill="#EEEEEE" filter="url(#f9txxq3d7bl6l)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="176" x="527.75" y="109.5469"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="157" x="533.75" y="125.6138">Start science window</text><polygon fill="#CFECE7" points="213.5,159.8125,223.5,163.8125,213.5,167.8125,217.5,163.8125" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0;" x1="67.5" x2="219.5" y1="163.8125" y2="163.8125"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="74.5" y="158.7466">Begin target tracking</text><polygon fill="#CFECE7" points="545,188.9453,555,192.9453,545,196.9453,549,192.9453" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0;" x1="67.5" x2="551" y1="192.9453" y2="192.9453"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="74.5" y="187.8794">Start RF acquisition (IQ/spectra)</text><polygon fill="#CFECE7" points="937,218.0781,947,222.0781,937,226.0781,941,222.0781" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0;" x1="67.5" x2="943" y1="222.0781" y2="222.0781"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="74.5" y="217.0122">Configure link (freq, power, modulation)</text><polygon fill="#CFECE7" points="1108,247.2109,1118,251.2109,1108,255.2109,1112,251.2109" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0;" x1="67.5" x2="1114" y1="251.2109" y2="251.2109"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="74.5" y="246.145">Link check / ranging</text><path d="M13,266.2109 L83,266.2109 L83,273.2109 L73,283.2109 L13,283.2109 L13,266.2109 " fill="#2B3045" style="stroke: #5D6A87; stroke-width: 1.0;"/><rect fill="none" height="402.3359" style="stroke: #5D6A87; stroke-width: 2.0;" width="1205.5" x="13" y="266.2109"/><text fill="#CFECE7" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="28" y="279.2778">par</text><text fill="#EAEAEA" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="98" y="278.4214">[Pointing control loop]</text><path d="M187,290.3438 L264,290.3438 L264,297.3438 L254,307.3438 L187,307.3438 L187,290.3438 " fill="#2B3045" style="stroke: #5D6A87; stroke-width: 1.0;"/><rect fill="none" height="75.3984" style="stroke: #5D6A87; stroke-width: 2.0;" width="313" x="187" y="290.3438"/><text fill="#CFECE7" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="202" y="303.4106">loop</text><text fill="#EAEAEA" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="182" x="279" y="302.5542">[10-20 Hz until window end]</text><polygon fill="#CFECE7" points="236.5,324.6094,226.5,328.6094,236.5,332.6094,232.5,328.6094" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="230.5" x2="357.5" y1="328.6094" y2="328.6094"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="242.5" y="323.5435">q, omega, status</text><polygon fill="#CFECE7" points="436,353.7422,446,357.7422,436,361.7422,440,357.7422" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0;" x1="225.5" x2="442" y1="357.7422" y2="357.7422"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="232.5" y="352.6763">Wheel torques</text><line style="stroke: #5D6A87; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1218.5" y1="373.7422" y2="373.7422"/><text fill="#EAEAEA" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="149" x="18" y="383.9526">[Science data pipeline]</text><path d="M23,394.5469 L100,394.5469 L100,401.5469 L90,411.5469 L23,411.5469 L23,394.5469 " fill="#2B3045" style="stroke: #5D6A87; stroke-width: 1.0;"/><rect fill="none" height="267" style="stroke: #5D6A87; stroke-width: 2.0;" width="1185.5" x="23" y="394.5469"/><text fill="#CFECE7" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="38" y="407.6138">loop</text><text fill="#EAEAEA" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81" x="115" y="406.7573">[continuous]</text><polygon fill="#CFECE7" points="78.5,428.8125,68.5,432.8125,78.5,436.8125,74.5,432.8125" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="72.5" x2="556" y1="432.8125" y2="432.8125"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="84.5" y="427.7466">Radio data frames</text><polygon fill="#CFECE7" points="671,457.9453,681,461.9453,671,465.9453,675,461.9453" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0;" x1="67.5" x2="677" y1="461.9453" y2="461.9453"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="74.5" y="456.8794">Buffer + CRC + chunk + priority tags</text><path d="M33,476.9453 L97,476.9453 L97,483.9453 L87,493.9453 L33,493.9453 L33,476.9453 " fill="#2B3045" style="stroke: #5D6A87; stroke-width: 1.0;"/><rect fill="none" height="177.6016" style="stroke: #5D6A87; stroke-width: 2.0;" width="1165.5" x="33" y="476.9453"/><text fill="#CFECE7" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="48" y="490.0122">alt</text><text fill="#EAEAEA" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="140" x="112" y="489.1558">[SR in view &amp; link OK]</text><polygon fill="#CFECE7" points="937,511.2109,947,515.2109,937,519.2109,941,515.2109" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0;" x1="683" x2="943" y1="515.2109" y2="515.2109"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="242" x="690" y="510.145">Dequeue chunks (rate-limit if needed)</text><polygon fill="#CFECE7" points="1108,540.3438,1118,544.3438,1108,548.3438,1112,544.3438" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="949" x2="1114" y1="544.3438" y2="544.3438"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="956" y="539.2778">Stream science + TM</text><polygon fill="#CFECE7" points="960,569.4766,950,573.4766,960,577.4766,956,573.4766" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="954" x2="1119" y1="573.4766" y2="573.4766"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="966" y="568.4106">ACK / NACK / rate hints</text><polygon fill="#CFECE7" points="694,598.6094,684,602.6094,694,606.6094,690,602.6094" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0;" x1="688" x2="948" y1="602.6094" y2="602.6094"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="700" y="597.5435">Re-queue NACKed chunks</text><line style="stroke: #5D6A87; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="33" x2="1198.5" y1="611.6094" y2="611.6094"/><text fill="#EAEAEA" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="151" x="38" y="621.8198">[SR occluded / link bad]</text><polygon fill="#CFECE7" points="671,642.5469,681,646.5469,671,650.5469,675,646.5469" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0;" x1="67.5" x2="677" y1="646.5469" y2="646.5469"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="323" x="74.5" y="641.481">Retain in ring buffer (QoS, drop oldest low-pri if full)</text><rect fill="#EEEEEE" filter="url(#f9txxq3d7bl6l)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1225.5" x="3" y="696.1133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1228.5" y1="696.1133" y2="696.1133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1228.5" y1="699.1133" y2="699.1133"/><rect fill="#EEEEEE" filter="url(#f9txxq3d7bl6l)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="110" x="560.75" y="685.5469"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="566.75" y="701.6138">Window end</text><polygon fill="#CFECE7" points="545,735.8125,555,739.8125,545,743.8125,549,739.8125" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0;" x1="67.5" x2="551" y1="739.8125" y2="739.8125"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="74.5" y="734.7466">Stop acquisition</text><polygon fill="#CFECE7" points="213.5,764.9453,223.5,768.9453,213.5,772.9453,217.5,768.9453" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.0;" x1="67.5" x2="219.5" y1="768.9453" y2="768.9453"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="74.5" y="763.8794">Exit tracking</text><path d="M628,781.9453 L628,821.9453 L1003,821.9453 L1003,791.9453 L993,781.9453 L628,781.9453 " fill="#5D6A87" filter="url(#f9txxq3d7bl6l)" style="stroke: #CFECE7; stroke-width: 1.0;"/><path d="M993,781.9453 L993,791.9453 L1003,791.9453 L993,781.9453 " fill="#5D6A87" style="stroke: #CFECE7; stroke-width: 1.0;"/><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="706.5" y="799.0122">Remaining buffered chunks sent</text><text fill="#EAEAEA" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="706.5" y="814.145">on next SR visibility</text><!--MD5=[53ca7876f3d2be605a98c4d3c02b8d22]
@startuml
title <color:#CFECE7>Parallel Pointing + Streaming to Sounding Rocket (Relay)</color>

skinparam backgroundColor #1E2230
skinparam defaultFontColor #EAEAEA
skinparam note {
  BackgroundColor #5D6A87
  BorderColor #CFECE7
  FontColor #EAEAEA
}
skinparam sequence {
  ArrowColor #CFECE7
  LifeLineBorderColor #CFECE7
  LifeLineBackgroundColor #5D6A87
  ParticipantBorderColor #CFECE7
  ParticipantBackgroundColor #2B3045
  ParticipantFontColor #EAEAEA
  GroupBorderColor #5D6A87
  GroupBackgroundColor #2B3045
  GroupHeaderFontColor #CFECE7
}

participant OBC
participant ADCS
participant SNS as "Sensors"
participant ACT as "Actuators"
participant PAY as "Radio Payload"
participant DHS as "Storage/Buffer"
participant RF as "RF Link\n(UHF/S-band)"
participant SR as "Sounding Rocket\n(Relay/Receiver)"

== Start science window ==
OBC -> ADCS : Begin target tracking
OBC -> PAY  : Start RF acquisition (IQ/spectra)
OBC -> RF   : Configure link (freq, power, modulation)
OBC -> SR   : Link check / ranging

par Pointing control loop
  loop 10-20 Hz until window end
    SNS - -> ADCS : q, omega, status
    ADCS -> ACT  : Wheel torques
  end
else Science data pipeline
  loop continuous
    PAY - -> OBC : Radio data frames
    OBC -> DHS  : Buffer + CRC + chunk + priority tags
    alt SR in view & link OK
      DHS -> RF : Dequeue chunks (rate-limit if needed)
      RF - -> SR : Stream science + TM
      SR - -> RF : ACK / NACK / rate hints
      RF -> DHS : Re-queue NACKed chunks
    else SR occluded / link bad
      OBC -> DHS : Retain in ring buffer (QoS, drop oldest low-pri if full)
    end
  end
end

== Window end ==
OBC -> PAY : Stop acquisition
OBC -> ADCS: Exit tracking
note over DHS,RF
Remaining buffered chunks sent
on next SR visibility
end note
@enduml

PlantUML version 1.2020.02(Sun Mar 01 04:22:07 CST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.28+6-post-Ubuntu-1ubuntu122.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>