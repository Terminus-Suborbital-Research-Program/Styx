<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="831px" preserveAspectRatio="none" style="width:1129px;height:831px;background:#1E2230;" version="1.1" viewBox="0 0 1129 831" width="1129px" zoomAndPan="magnify"><defs/><g><text fill="#CFECE7" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="503" x="312" y="26.708">Activity - Track Target &amp; Transmit (Local Sub-GHz Wi-Fi)</text><ellipse cx="559" cy="40.9531" fill="#4CAF50" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="155" x="481.5" y="70.9531"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="135" x="491.5" y="92.0918">Enter science window</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="224" x="447" y="124.9219"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="457" y="146.0605">Configure local sub-GHz Wi-Fi link</text><rect fill="#000000" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="1108" x="10" y="178.8906"/><rect fill="#2B3045" height="395.1406" style="stroke: #5D6A87; stroke-width: 2.0;" width="232" x="22" y="195.6924"/><path d="M71,196.6924 L71,204.9893 L61,214.9893 L22,214.9893 " fill="none" style="stroke: #5D6A87; stroke-width: 2.0;"/><text fill="#CFECE7" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="25" y="209.6875">ADCS</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="200" x="32" y="231.9893"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="42" y="253.1279">Fine pointing loop (10-20 Hz)</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="147" x="58.5" y="357.958"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="127" x="68.5" y="379.0967">Read sensors (q, ω)</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="146" x="59" y="426.9268"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="69" y="448.0654">Apply wheel torques</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="188" x="38" y="495.8955"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="48" y="517.0342">MTQ desat near saturation</text><polygon fill="#2B3045" points="132,285.958,144,297.958,132,309.958,120,297.958,132,285.958" style="stroke: #CFECE7; stroke-width: 1.5;"/><polygon fill="#2B3045" points="92.5,552.3486,171.5,552.3486,183.5,564.3486,171.5,576.3486,92.5,576.3486,80.5,564.3486,92.5,552.3486" style="stroke: #CFECE7; stroke-width: 1.5;"/><text fill="#EAEAEA" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="92.5" y="568.1567">Window active</text><rect fill="#2B3045" height="395.1406" style="stroke: #5D6A87; stroke-width: 2.0;" width="236" x="264" y="195.6924"/><path d="M428,196.6924 L428,204.9893 L418,214.9893 L264,214.9893 " fill="none" style="stroke: #5D6A87; stroke-width: 2.0;"/><text fill="#CFECE7" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="267" y="209.6875">Payload → OBC → DHS</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="123" x="308.5" y="231.9893"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="318.5" y="253.1279">Start acquisition</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="151" x="294.5" y="357.958"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="131" x="304.5" y="379.0967">Receive radio frames</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="192" x="274" y="426.9268"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="172" x="284" y="448.0654">CRC + packetize + prioritize</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="152" x="294" y="495.8955"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="304" y="517.0342">Enqueue to TX buffer</text><polygon fill="#2B3045" points="370,285.958,382,297.958,370,309.958,358,297.958,370,285.958" style="stroke: #CFECE7; stroke-width: 1.5;"/><polygon fill="#2B3045" points="330.5,552.3486,409.5,552.3486,421.5,564.3486,409.5,576.3486,330.5,576.3486,318.5,564.3486,330.5,552.3486" style="stroke: #CFECE7; stroke-width: 1.5;"/><text fill="#EAEAEA" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="330.5" y="568.1567">Window active</text><rect fill="#2B3045" height="390.1719" style="stroke: #5D6A87; stroke-width: 2.0;" width="578" x="528" y="198.1768"/><path d="M748,199.1768 L748,207.4736 L738,217.4736 L528,217.4736 " fill="none" style="stroke: #5D6A87; stroke-width: 2.0;"/><text fill="#CFECE7" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="210" x="531" y="212.1719">Local Wi-Fi ↔ Sounding Rocket</text><polygon fill="#2B3045" points="689.5,291.4736,885.5,291.4736,897.5,303.4736,885.5,315.4736,689.5,315.4736,677.5,303.4736,689.5,291.4736" style="stroke: #CFECE7; stroke-width: 1.5;"/><text fill="#EAEAEA" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="689.5" y="307.2817">SR visible &amp; link margin &gt; thresh?</text><text fill="#EAEAEA" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="657.5" y="300.8794">yes</text><text fill="#EAEAEA" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="897.5" y="300.8794">no</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="148" x="576.5" y="325.4736"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128" x="586.5" y="346.6123">Pull buffered chunks</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="190" x="555.5" y="394.4424"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="170" x="565.5" y="415.5811">Transmit; receive ACK/NACK</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="205" x="548" y="463.4111"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="185" x="558" y="484.5498">Re-queue NACK; update stats</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="303" x="773" y="325.4736"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="283" x="783" y="346.6123">Idle TX; continue buffering (drop low-pri if full)</text><polygon fill="#2B3045" points="787.5,503.3799,799.5,515.3799,787.5,527.3799,775.5,515.3799,787.5,503.3799" style="stroke: #CFECE7; stroke-width: 1.5;"/><polygon fill="#2B3045" points="787.5,234.4736,799.5,246.4736,787.5,258.4736,775.5,246.4736,787.5,234.4736" style="stroke: #CFECE7; stroke-width: 1.5;"/><polygon fill="#2B3045" points="748,549.8643,827,549.8643,839,561.8643,827,573.8643,748,573.8643,736,561.8643,748,549.8643" style="stroke: #CFECE7; stroke-width: 1.5;"/><text fill="#EAEAEA" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="748" y="565.6724">Window active</text><rect fill="#000000" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="1108" x="10" y="610.833"/><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="191" x="463.5" y="636.833"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="171" x="473.5" y="657.9717">Stop acquisition; close files</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="128" x="495" y="690.8018"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="505" y="711.9404">Exit pointing loop</text><rect fill="#2B3045" height="33.9688" rx="12.5" ry="12.5" style="stroke: #CFECE7; stroke-width: 1.5;" width="255" x="431.5" y="744.7705"/><text fill="#EAEAEA" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="235" x="441.5" y="765.9092">Transmit leftovers on next SR contact</text><ellipse cx="559" cy="809.7393" fill="#FFFFFF" rx="11" ry="11" style="stroke: #4CAF50; stroke-width: 1.0;"/><ellipse cx="559" cy="809.7393" fill="#4CAF50" rx="6" ry="6" style="stroke: #A5D7A7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="559" x2="559" y1="50.9531" y2="70.9531"/><polygon fill="#CFECE7" points="555,60.9531,559,70.9531,563,60.9531,559,64.9531" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="559" x2="559" y1="104.9219" y2="124.9219"/><polygon fill="#CFECE7" points="555,114.9219,559,124.9219,563,114.9219,559,118.9219" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="132" x2="132" y1="391.9268" y2="426.9268"/><polygon fill="#CFECE7" points="128,416.9268,132,426.9268,136,416.9268,132,420.9268" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="132" x2="132" y1="460.8955" y2="495.8955"/><polygon fill="#CFECE7" points="128,485.8955,132,495.8955,136,485.8955,132,489.8955" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="132" x2="132" y1="309.958" y2="357.958"/><polygon fill="#CFECE7" points="128,347.958,132,357.958,136,347.958,132,351.958" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="183.5" x2="238" y1="564.3486" y2="564.3486"/><polygon fill="#CFECE7" points="234,453.9111,238,443.9111,242,453.9111,238,449.9111" style="stroke: #CFECE7; stroke-width: 1.5;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="238" x2="238" y1="297.958" y2="564.3486"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="238" x2="144" y1="297.958" y2="297.958"/><polygon fill="#CFECE7" points="154,293.958,144,297.958,154,301.958,150,297.958" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="132" x2="132" y1="529.8643" y2="552.3486"/><polygon fill="#CFECE7" points="128,542.3486,132,552.3486,136,542.3486,132,546.3486" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="132" x2="132" y1="265.958" y2="285.958"/><polygon fill="#CFECE7" points="128,275.958,132,285.958,136,275.958,132,279.958" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="370" x2="370" y1="391.9268" y2="426.9268"/><polygon fill="#CFECE7" points="366,416.9268,370,426.9268,374,416.9268,370,420.9268" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="370" x2="370" y1="460.8955" y2="495.8955"/><polygon fill="#CFECE7" points="366,485.8955,370,495.8955,374,485.8955,370,489.8955" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="370" x2="370" y1="309.958" y2="357.958"/><polygon fill="#CFECE7" points="366,347.958,370,357.958,374,347.958,370,351.958" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="421.5" x2="478" y1="564.3486" y2="564.3486"/><polygon fill="#CFECE7" points="474,453.9111,478,443.9111,482,453.9111,478,449.9111" style="stroke: #CFECE7; stroke-width: 1.5;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="478" x2="478" y1="297.958" y2="564.3486"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="478" x2="382" y1="297.958" y2="297.958"/><polygon fill="#CFECE7" points="392,293.958,382,297.958,392,301.958,388,297.958" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="370" x2="370" y1="529.8643" y2="552.3486"/><polygon fill="#CFECE7" points="366,542.3486,370,552.3486,374,542.3486,370,546.3486" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="370" x2="370" y1="265.958" y2="285.958"/><polygon fill="#CFECE7" points="366,275.958,370,285.958,374,275.958,370,279.958" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="650.5" x2="650.5" y1="359.4424" y2="394.4424"/><polygon fill="#CFECE7" points="646.5,384.4424,650.5,394.4424,654.5,384.4424,650.5,388.4424" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="650.5" x2="650.5" y1="428.4111" y2="463.4111"/><polygon fill="#CFECE7" points="646.5,453.4111,650.5,463.4111,654.5,453.4111,650.5,457.4111" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="677.5" x2="650.5" y1="303.4736" y2="303.4736"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="650.5" x2="650.5" y1="303.4736" y2="325.4736"/><polygon fill="#CFECE7" points="646.5,315.4736,650.5,325.4736,654.5,315.4736,650.5,319.4736" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="897.5" x2="924.5" y1="303.4736" y2="303.4736"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="924.5" x2="924.5" y1="303.4736" y2="325.4736"/><polygon fill="#CFECE7" points="920.5,315.4736,924.5,325.4736,928.5,315.4736,924.5,319.4736" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="650.5" x2="650.5" y1="497.3799" y2="515.3799"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="650.5" x2="775.5" y1="515.3799" y2="515.3799"/><polygon fill="#CFECE7" points="765.5,511.3799,775.5,515.3799,765.5,519.3799,769.5,515.3799" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="924.5" x2="924.5" y1="359.4424" y2="515.3799"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="924.5" x2="799.5" y1="515.3799" y2="515.3799"/><polygon fill="#CFECE7" points="809.5,511.3799,799.5,515.3799,809.5,519.3799,805.5,515.3799" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="787.5" x2="787.5" y1="258.4736" y2="291.4736"/><polygon fill="#CFECE7" points="783.5,281.4736,787.5,291.4736,791.5,281.4736,787.5,285.4736" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="839" x2="1090" y1="561.8643" y2="561.8643"/><polygon fill="#CFECE7" points="1086,419.4268,1090,409.4268,1094,419.4268,1090,415.4268" style="stroke: #CFECE7; stroke-width: 1.5;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="1090" x2="1090" y1="246.4736" y2="561.8643"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="1090" x2="799.5" y1="246.4736" y2="246.4736"/><polygon fill="#CFECE7" points="809.5,242.4736,799.5,246.4736,809.5,250.4736,805.5,246.4736" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="787.5" x2="787.5" y1="527.3799" y2="549.8643"/><polygon fill="#CFECE7" points="783.5,539.8643,787.5,549.8643,791.5,539.8643,787.5,543.8643" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="132" x2="132" y1="184.8906" y2="231.9893"/><polygon fill="#CFECE7" points="128,221.9893,132,231.9893,136,221.9893,132,225.9893" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="370" x2="370" y1="184.8906" y2="231.9893"/><polygon fill="#CFECE7" points="366,221.9893,370,231.9893,374,221.9893,370,225.9893" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="787.5" x2="787.5" y1="184.8906" y2="234.4736"/><polygon fill="#CFECE7" points="783.5,224.4736,787.5,234.4736,791.5,224.4736,787.5,228.4736" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="132" x2="132" y1="576.3486" y2="610.833"/><polygon fill="#CFECE7" points="128,600.833,132,610.833,136,600.833,132,604.833" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="370" x2="370" y1="576.3486" y2="610.833"/><polygon fill="#CFECE7" points="366,600.833,370,610.833,374,600.833,370,604.833" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="787.5" x2="787.5" y1="573.8643" y2="610.833"/><polygon fill="#CFECE7" points="783.5,600.833,787.5,610.833,791.5,600.833,787.5,604.833" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="559" x2="559" y1="158.8906" y2="178.8906"/><polygon fill="#CFECE7" points="555,168.8906,559,178.8906,563,168.8906,559,172.8906" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="559" x2="559" y1="616.833" y2="636.833"/><polygon fill="#CFECE7" points="555,626.833,559,636.833,563,626.833,559,630.833" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="559" x2="559" y1="670.8018" y2="690.8018"/><polygon fill="#CFECE7" points="555,680.8018,559,690.8018,563,680.8018,559,684.8018" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="559" x2="559" y1="724.7705" y2="744.7705"/><polygon fill="#CFECE7" points="555,734.7705,559,744.7705,563,734.7705,559,738.7705" style="stroke: #CFECE7; stroke-width: 1.0;"/><line style="stroke: #CFECE7; stroke-width: 1.5;" x1="559" x2="559" y1="778.7393" y2="798.7393"/><polygon fill="#CFECE7" points="555,788.7393,559,798.7393,563,788.7393,559,792.7393" style="stroke: #CFECE7; stroke-width: 1.0;"/><!--MD5=[56ef9cff3b40b0fb4d5cd7da3689ae6a]
@startuml
title <color:#CFECE7>Activity - Track Target & Transmit (Local Sub-GHz Wi-Fi)</color>

skinparam shadowing false
skinparam backgroundColor #1E2230
skinparam defaultFontColor #EAEAEA

skinparam activity {
  StartColor #4CAF50
  EndColor #4CAF50
  BackgroundColor #2B3045
  BorderColor #CFECE7
  FontColor #EAEAEA
}
skinparam activityDiamondBackgroundColor #2B3045
skinparam activityDiamondBorderColor #CFECE7
skinparam activityDiamondFontColor #EAEAEA
skinparam partition {
  BackgroundColor #2B3045
  BorderColor #5D6A87
  FontColor #CFECE7
}
skinparam ArrowColor #CFECE7
skinparam note {
  BackgroundColor #5D6A87
  BorderColor #CFECE7
  FontColor #EAEAEA
}

start
:Enter science window;
:Configure local sub-GHz Wi-Fi link;

fork
  partition "ADCS" {
    :Fine pointing loop (10-20 Hz);
    repeat
      :Read sensors (q, ω);
      :Apply wheel torques;
      :MTQ desat near saturation;
    repeat while (Window active)
  }
fork again
  partition "Payload → OBC → DHS" {
    :Start acquisition;
    repeat
      :Receive radio frames;
      :CRC + packetize + prioritize;
      :Enqueue to TX buffer;
    repeat while (Window active)
  }
fork again
  partition "Local Wi-Fi ↔ Sounding Rocket" {
    repeat
      if (SR visible & link margin > thresh?) then (yes)
        :Pull buffered chunks;
        :Transmit; receive ACK/NACK;
        :Re-queue NACK; update stats;
      else (no)
        :Idle TX; continue buffering (drop low-pri if full);
      endif
    repeat while (Window active)
  }
end fork

:Stop acquisition; close files;
:Exit pointing loop;
:Transmit leftovers on next SR contact;
stop
@enduml

PlantUML version 1.2020.02(Sun Mar 01 04:22:07 CST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.28+6-post-Ubuntu-1ubuntu122.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>